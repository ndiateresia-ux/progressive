{% extends 'base.html' %}
{% block title %}Teacher Dashboard{% endblock %}
{% block content %}
<div class="row">
  <div class="col-md-9 col-lg-10">
    <h2 class="mb-4"><i class="bi bi-speedometer2"></i> Teacher Dashboard</h2>

<div class="row mt-4">
  <!-- Announcements Column -->
  <div class="col-md-6">
    <h4><i class="bi bi-megaphone"></i> Latest Announcements</h4>
    <div class="row">
      {% for announcement in announcements %}
      <div class="col-12 mb-3">
        <div class="card text-white bg-primary shadow-sm h-100">
          <div class="card-body">
            <h5 class="card-title">{{ announcement.title }}</h5>
            <p class="card-text">{{ announcement.content }}</p>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12">
        <div class="card bg-light shadow-sm">
          <div class="card-body">
            <p class="text-muted mb-0">No announcements available.</p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- Events Column -->
  <div class="col-md-6">
    <h4><i class="bi bi-calendar-event"></i> Events</h4>
    <div class="row">
      {% for event in events %}
      <div class="col-12 mb-3">
        <div class="card text-white bg-success shadow-sm h-100">
          <div class="card-body">
            <h5 class="card-title">{{ event.name }}</h5>
            <p class="card-text"><strong>Date:</strong> {{ event.date }}</p>
            <p class="card-text">{{ event.description }}</p>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12">
        <div class="card bg-light shadow-sm">
          <div class="card-body">
            <p class="text-muted mb-0">No events available.</p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

    <!-- Teaching assignments AFTER announcements -->
    <h4><i class="bi bi-clipboard-check"></i> Your Subjects</h4>
    <table class="table table-striped">
      <thead>
        <tr><th>Subject</th><th>Class</th></tr>
      </thead>
      <tbody>
        {% for ts in teacher_subjects %}
        <tr><td>{{ ts.subject.name }}</td><td>{{ ts.school_class.name }}</td></tr>
        {% empty %}
        <tr><td colspan="2" class="text-muted">No assignments yet.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
