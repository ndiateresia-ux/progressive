{% extends 'base.html' %}
{% block title %}{{ form_title }}{% endblock %}
{% block content %}
<div class="container">
  <h3><i class="bi bi-calendar-event"></i> {{ form_title }}</h3>
  <form method="post">{% csrf_token %}
    <div class="mb-3">
      <label for="id_name" class="form-label">Event Name</label>
      <input type="text" name="name" id="id_name" value="{{ event.name }}" class="form-control">
    </div>

    <div class="mb-3">
      <label for="id_description" class="form-label">Description</label>
      <textarea name="description" id="id_description" class="form-control">{{ event.description }}</textarea>
    </div>

    <div class="mb-3">
      <label for="id_date" class="form-label">Date</label>
      <input type="date" name="date" id="id_date" value="{{ event.date|date:'Y-m-d' }}" class="form-control">
    </div>

    <!-- Visibility Dropdown -->
    <div class="mb-3">
      <label for="id_visibility" class="form-label">Visible To</label>
      <select name="visibility" id="id_visibility" class="form-select">
        <option value="all" {% if event.visibility == "all" %}selected{% endif %}>All Users</option>
        <option value="teacher" {% if event.visibility == "teacher" %}selected{% endif %}>Teachers Only</option>
        <option value="student" {% if event.visibility == "student" %}selected{% endif %}>Students Only</option>
      </select>
    </div>

    <button class="btn btn-success">Save</button>
    <a href="{% url 'progressive_app:events_list' %}" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %}
